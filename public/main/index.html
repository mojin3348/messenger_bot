<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title class="titleText">Messenger bot</title>
    <link rel="icon" type="image/x-icon" href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTBZvtDbJ4A6SMgKU6DLkoLjxvFBgxOdTUe2Tfvdm-Nki57LbsA79_bDtg&s=10">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
      body {
        background-color: #1e1e1e;
        color: #fff;
        font-family: 'Poppins', sans-serif;
        margin: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        width: 100%;
        box-sizing: border-box;
      }

      #icon-mainn {
        border-radius: 50%;
        display: absolute;
        border: 3.5px solid blue;
        background-size: cover;
        padding: 1px;
        width: 95px;
        height: 95px;
        -webkit-user-select: none;
        /* Safari */
        -ms-user-select: none;
        /* IE 10 and IE 11 */
        user-select: none;
        margin-top: -60px;
        margin-left: -240px;
      }

      #active-status {
        border-radius: 50%;
        width: 15px;
        height: 15px;
        border: 2px solid #1e1e1e;
        -webkit-user-select: none;
        /* Safari */
        -ms-user-select: none;
        /* IE 10 and IE 11 */
        user-select: none;
        position: relative;
        margin-left: -180px;
        margin-top: -25px;
        margin-bottom: 10px;
      }

      #background-pic {
        width: 100%;
        height: 150px;
        margin-top: -5px;
      }

      .name {
        font-size: 18px;
        -webkit-user-select: none;
        /* Safari */
        -ms-user-select: none;
        /* IE 10 and IE 11 */
        user-select: none;
        /* Standard syntax */
        margin-top: 5px;
        margin-left: -250px;
      }

      .bio {
        font-size: 10px;
        margin-top: -10px;
        width: 350px;
        -webkit-user-select: none;
        /* Safari */
        -ms-user-select: none;
        /* IE 10 and IE 11 */
        user-select: none;
        /* Standard syntax */
        color: gray;
        text-align: left;
        margin-left: 5px;
      }

	textarea,
    input {
        width: 70%;
        margin: 1rem 0;
        padding: 10px;
        border-radius: 8px;
        overflow: auto;
        border: 1px solid gray;
        background-color: transparent;
        color: #fff;
        resize: none;
        }
        
       h2 {
        font-size: 12px;
      }

.terms-check {
        display: flex;            
        align-items: center;      
        font-size: 10px;          
        color: #fff;              
        margin-right: 100px;
        margin-top: 2px;         
     }

.terms-check input[type="checkbox"] {
       transform: scale(1.2);    
       margin-left: 20px;        
    }

      .cmddes {
        font-size: 10px;
        margin-top: 0px;
        -webkit-user-select: none;
        /* Safari */
        -ms-user-select: none;
        /* IE 10 and IE 11 */
        user-select: none;
        /* Standard syntax */
        color: gray;
        text-align: center;
      }    

      @keyframes glow {
        from {
          border-color: #1e1e1e;
        }

        to {
          border-color: gray;
        }
      }

      .menu-toggle {
        display: block;
        width: 30px;
        height: 22px;
        margin-top: -25px;
        margin-left: 285px;
        margin-bottom: 5px;
        position: relative;
      }

      .bar {
        display: block;
        width: 90%;
        height: 3px;
        background-color: #333;
        margin-bottom: 5px;
        transition: all 0.3s ease;
      }

      .menu-toggle.active .bar:nth-child(1) {
        transform: translateY(8px) rotate(45deg);
      }

      .menu-toggle.active .bar:nth-child(2) {
        opacity: 0;
      }

      .menu-toggle.active .bar:nth-child(3) {
        transform: translateY(-8px) rotate(-45deg);
      }

      .menu-container {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.7);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 999;
      }

      .menu {
        background-color: #1e1e1e;
        opacity: 0.95;
        border: 1px solid gray;
        width: 50%;
        padding: 20px;
        text-align: center;
        border-radius: 10px;
      }

      .menu div {
        list-style: none;
        margin-bottom: 15px;
      }

      button {
        margin-top: 2px;
        border: 1px solid gray;
        color: gray;
        padding: 10px;
        animation: glow 3s infinite alternate;
        background: transparent;
        border-radius: 10px;
        -webkit-user-select: none;
        /* Safari */
        -ms-user-select: none;
        /* IE 10 and IE 11 */
        user-select: none;
        /* Standard syntax */
        font-family: 'Montserrat', sans-serif;
        cursor: pointer;
        font-size: 0.8rem;
        transition: background 0.3s ease;
      }

      button:hover {
        opacity: 0.5;
      }

      .menu-buttons {
        width: 100%;
        margin-bottom: 10px;
      }

      .container {
        padding: 20px;
        border: 1px solid #dee2e6;
        animation: glow 3s infinite alternate;
        border-radius: 10px;
        max-width: 100;
        background: transparent;
        text-align: center;
        margin-top: 10px;
        width: 95%;
      }

      .cmd-container {
        padding: 20px;
        border: 1px solid #dee2e6;
        animation: glow 3s infinite alternate;
        border-radius: 10px;
        max-width: 100;
        background: transparent;
        text-align: center;
        margin-top: 10px;
        width: 95%;
      }

      .create-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 300px;
        margin: 0;
        padding: 10px;
      }

      .login-container {
        display: none;
        flex-direction: column;
        align-items: center;
        width: 300px;
        margin: 0;
        padding: 10px;
      }

      .tutorial-container {
        display: none;
        flex-direction: column;
        align-items: center;
        width: 300px;
        margin: 0;
        padding: 10px;
      }

      .onlines-container {
        display: none;
        flex-direction: column;
        align-items: center;
        width: 300px;
        margin: 0;
        padding: 10px;
      }

      .command-container {
        display: none;
        flex-direction: column;
        align-items: center;
        width: 300px;
        margin: 0;
        padding: 10px;
      }

      .command-list {
        padding: 10px;
        border: 1px solid gray;
        animation: glow 3s infinite alternate;
        display: flex;
        flex-direction: column;
        align-items: center;
        border-radius: 10px;
        margin-bottom: 10px;
      }

      .command-list h5 {
        text-align: center;
        margin-bottom: 0px;
        font-size: 12px;
      }

      .command-list p {
        text-align: center;
        margin-bottom: 0px;
        font-size: 8px;
      }

      textarea[type="text"],
      input[type="text"],
      input[type="password"] {
        resize: none;
        background: transparent;
        width: 80%;
        border: 1px solid;
        border-radius: 10px;
        -webkit-user-select: none;
        /* Safari */
        -ms-user-select: none;
        /* IE 10 and IE 11 */
        user-select: none;
        /* Standard syntax */
        font-size: 10px;
        margin-bottom: 5px;
        padding: 15px;
        color: white;
        animation: glow 3s infinite alternate;
      }

      .user-card {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
        border: 1px solid #dee2e6;
        border-radius: 10px;
        padding: 2px;
        width: 1000;
        height: 50px;
        text-align: center;
        animation: glow 3s infinite alternate;
      }

      .user-card img {
        max-width: 100%;
        border-radius: 50%;
        margin-right: 10px;
        margin-left: 10px;
        margin-bottom: 10px;
        width: 20px;
        height: 20px;
      }

      .user-info {
        flex-grow: 1;
      }

      .user-info h4 {
        margin-left: 3px;
        margin-bottom: 3px;
        font-size: 10px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        text-align: start;
      }

      .user-info p {
        margin: 0;
        font-size: 6px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        text-align: start;
        margin-bottom: 5px;
      }

      p {
        padding: 1px;
      }

      uptime-user {
        margin-bottom: 5px;
      }

      #tutorialimg {
        border-radius: 10px;
        width: 200px;
        height: 200px;
        margin-bottom: 20px;
        border: 1px solid white;
      }

      .toast {
        background-color: #007bff;
        color: white;
        border-radius: 5px;
        padding: 15px;
        font-size: 16px;
      }

      #toast-container {
        top: 100px;
      }

      .toast-success {
        background-color: #28a745;
        border: 1px solid gray;
        font-size: 10px;
      }

      .toast-error {
        background-color: #dc3545;
        border: 1px solid gray;
        font-size: 10px;
      }

      .toast-info {
        background-color: #1e1e1e;
        border: 1px solid gray;
        font-size: 10px;
      }

      .toast-warning {
        background-color: #ffc107;
        border: 1px solid gray;
        font-size: 10px;
      }

      .follow-button {
        padding: 5px;
        border: 1px solid blue;
        background-color: blue;
        border-radius: 5px;
        color: white;
        margin-left: -200px;
        width: 130px;
        text-decoration: none;
        font-size: 13px;
        text-align: center;
      }

      .page-button {
        padding: 5px;
        border: 1px solid white;
        background-color: white;
        border-radius: 5px;
        color: black;
        margin-left: 90px;
        margin-top: -31px;
        width: 110px;
        text-decoration: none;
        font-size: 13px;
        text-align: center;
      }

      .line-main {
        width: 100%;
        height: 1px;
        margin-bottom: 10px;
        margin-top: 20px;
      }

      .github-profile {
        font-size: 8px;
        margin-top: -25px;
        margin-left: -160px;
        color: blue;
        text-decoration: none;
        margin-bottom: 20px;
      }

      .github-icon {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        border: 1px solid gray;
        margin-left: -330px;
        margin-bottom: 10px;
        margin-top: -10px;
      }

      .title-banner {
        margin-left: -250px;
        margin-bottom: 0px;
        font-size: 15px;
      }

      .verified-logo {
        width: 13px;
        height: 13px;
        border-radius: 50%;
        margin-top: -31.5px;
        margin-left: -130px;
        background: transparent;
        mix-blend-mode: lighten;
        margin-bottom: 20px;
      }

      /* Mobile */
      @media (min-width:320px) {}

      /* Tablet */
      @media (min-width:640px) {
        body {
          background-color: #1e1e1e;
          color: #fff;
          font-family: 'Poppins', sans-serif;
          margin: 0;
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          width: 100%;
          box-sizing: border-box;
        }
      }

      /* Desktop */
      @media (min-width:960px) {
        #icon-mainn {
          border-radius: 50%;
          display: absolute;
          border: 3.5px solid blue;
          background-size: cover;
          padding: 1px;
          width: 150px;
          height: 150px;
          -webkit-user-select: none;
          /* Safari */
          -ms-user-select: none;
          /* IE 10 and IE 11 */
          user-select: none;
          margin-top: -30px;
          margin-left: -740px;
        }

        #active-status {
          border-radius: 50%;
          width: 30px;
          height: 30px;
          border: 2px solid #1e1e1e;
          -webkit-user-select: none;
          /* Safari */
          -ms-user-select: none;
          /* IE 10 and IE 11 */
          user-select: none;
          position: relative;
          margin-left: -640px;
          margin-top: -40px;
          margin-bottom: 10px;
        }

        #background-pic {
          width: 100%;
          height: 300px;
          margin-top: -5px;
        }

        .name {
          font-size: 20px;
          -webkit-user-select: none;
          -ms-user-select: none;
          user-select: none;
          margin-top: -120px;
          margin-left: -450px;
        }

        .bio {
          font-size: 8px;
          width: 300px;
          -webkit-user-select: none;
          /* Safari */
          -ms-user-select: none;
          /* IE 10 and IE 11 */
          user-select: none;
          /* Standard syntax */
          color: gray;
          text-align: left;
          margin-left: -250px;
        }

        .verified-logo {
          width: 15px;
          height: 15px;
          border-radius: 50%;
          margin-top: -35px;
          margin-left: -320px;
          background: transparent;
          mix-blend-mode: lighten;
          margin-bottom: 20px;
        }

        .github-profile {
          font-size: 10px;
          margin-top: -29px;
          margin-left: -320px;
          color: blue;
          text-decoration: none;
          margin-bottom: 20px;
        }

        .github-icon {
          width: 20px;
          height: 20px;
          border-radius: 50%;
          border: 1px solid gray;
          margin-left: -530px;
          margin-bottom: 10px;
          margin-top: -10px;
        }

        .follow-button {
          padding: 5px;
          border: 1px solid blue;
          background-color: blue;
          border-radius: 5px;
          color: white;
          margin-left: 350px;
          margin-top: -65px;
          width: 130px;
          text-decoration: none;
          font-size: 13px;
          text-align: center;
        }

        .page-button {
          padding: 5px;
          border: 1px solid white;
          background-color: white;
          border-radius: 5px;
          color: black;
          margin-left: 650px;
          margin-top: -31px;
          width: 110px;
          text-decoration: none;
          font-size: 13px;
          text-align: center;
        }

        .menu-toggle {
          display: block;
          width: 30px;
          height: 22px;
          margin-top: -25px;
          margin-left: 850px;
          position: relative;
        }

        .line-main {
          width: 100%;
          height: 1px;
          margin-bottom: 10px;
          margin-top: 60px;
        }

        .create-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          width: 70%;
          margin: 0;
          padding: 10px;
        }

        .login-container {
          display: none;
          flex-direction: column;
          align-items: center;
          width: 70%;
          margin: 0;
          padding: 10px;
        }

        .tutorial-container {
          display: none;
          flex-direction: column;
          align-items: center;
          width: 70%;
          margin: 0;
          padding: 10px;
        }

        .onlines-container {
          display: none;
          flex-direction: column;
          align-items: center;
          width: 70%;
          margin: 0;
          padding: 10px;
        }

        .command-container {
          display: none;
          flex-direction: column;
          align-items: center;
          width: 70%;
          margin: 0;
          padding: 10px;
        }

        .cmddes {
          font-size: 8px;
          margin-top: 0px;
          -webkit-user-select: none;
          /* Safari */
          -ms-user-select: none;
          /* IE 10 and IE 11 */
          user-select: none;
          /* Standard syntax */
          color: gray;
          text-align: center;
        }
      }
      .background-music {
          width: 0;
          height: 0;
      }
    </style>
  </head>
  <body>
    <img id="background-pic" src="https://img1.picmix.com/output/stamp/normal/3/7/5/5/2195573_939df.gif">
    <img id="icon-mainn" src="https://i.imgur.com/dleGZwW.jpeg">
    <img id="active-status" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTQ1TS0JJp5ClJ5lTn-OBv9y461HneWyQco9lx5kVwT6d5i8KTm7-zer9ok&s=10"></img>
    </img>
    </img>
    <audio class="play-background" autoplay loop>
        <source src="ipagpatawadmo.mp3" type="audio/mpeg">
    </audio>
    <h1 class="name">ArÄ±</h1>
    <img class="verified-logo" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRE7wBhg3kHUcSznRYkGgDzBjGC9BmayaHhngd9iq-KZr24zqMmYSUgk1k1&s=10"></img>
    </img>
    <p class="bio"> Hey there! I'll warn you about using this project, your facebook account is possible to get locked, restricted or suspended due to logging in to unknown location, automated behavior etc. use a dummy account. </p>
    <a class="follow-button" href="https://www.facebook.com/61577110900436">View profile</a>
    <a class="page-button" href="https://myportfilo2023.netlify.app">View info</a>
    <div class="menu-toggle">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </div>
    <img class="line-main" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSHazg1aUtZ57F9hGXaXzzPGRuOHHMDbonhWj3b4GCNyrgxC2azDi920IX8&s=10"></img>
    <div id="menu-container" class="menu-container">
      <ul class="menu">
        <h5>Menu Lists</h5>
        <button class="menu-buttons" onclick="gotoCreate()">Create bot</button>
        <button class="menu-buttons" onclick="gotoTutorial()">Tutorial</button>
        <button class="menu-buttons" onclick="gotoCommands()">Commands</button>
        <button class="menu-buttons" onclick="gotoOnlines()">Onlines</button>
      </ul>
    </div>
    <div class="container">
      <h2 class="subtitle">Facebook Appstate</h2>
      <form id="json-form" onsubmit="submitForm(event)">
        <textarea id="json-data" placeholder="Paste your appstate here"></textarea>
      </form>

      <div id="listOfCommands">
        <h2 class="subtitle">Select your commands</h2>
        <button class="btn" onclick="selectAllCommands()">Select all commands</button>
      </div>

      <div id="listOfCommandsEvent">
        <h2 class="subtitle">Select your event commands</h2>
        <button class="btn" onclick="selectAllEvents()">Select all events</button>
      </div>

      <div id="prefixOfCommands">
        <h2 class="subtitle">Enter prefix (optional)</h2>
        <input type="text" id="inputOfPrefix" />
      </div>

      <div id="adminOfCommands">
        <h2 class="subtitle">Enter UID (important)</h2>
        <input type="text" id="inputOfAdmin" />
      </div>

      <label class="terms-check">
        <input type="checkbox" id="agreeCheckbox" /> I have read and agree to the Terms and Conditions.
      </label>

      <div class="text-center">
        <button class="btn submit-btn" onclick="State()" disabled id="submitButton">Submit</button>
      </div>
    </div>
    <div class="onlines-container">
      <div class="container">
        <div class="row">
          <h1 style="font-size: 10px;">Current Online</h1>
        </div>
        <div class="row" id="user_online"></div>
      </div>
    </div>
    </div>
    <div class="tutorial-container">
      <div class="container">
        <h5>STEP 1 : </h5>
        <p class="cmddes">Go to play store and search for <a class="cmddes" style="color: blue;">Kiwi Browser</a> and download it </p>
        <img id="tutorialimg" src="https://i.imgur.com/nGA8oLY.jpeg"></img>
        <h5>STEP 2 : </h5>
        <p class="cmddes">Download c3c fbstate exporter : <a class="cmddes" id="c3cdownload" style="color: blue;">click here</a> to download it </p>
        <img id="tutorialimg" src="https://i.imgur.com/eYj6Sdt.jpeg"></img>
        <h5>STEP 3 : </h5>
        <p class="cmddes">Open <a class="cmddes" style="color: blue;">Kiwi Browser</a> and click the 3 dots </p>
        <img id="tutorialimg" src="https://i.imgur.com/9JL92Hi.jpeg"></img>
        <h5>STEP 4 : </h5>
        <p class="cmddes">After clicking the 3 dots, find the Extension and click it after that click okay then click +(from .zip/.crx/.user.js) and select c3c-ufc-utility-1.5.zip in your download folder.</p>
        <img id="tutorialimg" src="https://i.imgur.com/awuxfJq.jpeg"></img>
        <h5>STEP 5 : </h5>
        <p class="cmddes">after that proceed to facebook.com using Kiwi Browser and login your facebook account. make sure to use a dummy account, after that click the 3 dots again.</p>
        <img id="tutorialimg" src="https://i.imgur.com/WvzpLp3.jpeg"></img>
        <h5>STEP 6 : </h5>
        <p class="cmddes">find C3C FBState Utility and click it, then click the Copy to Clipboard.</p>
        <img id="tutorialimg" src="https://i.imgur.com/kVyOOOi.jpeg"></img>
        <h5>LAST STEP : </h5>
        <p class="cmddes">after copying the appstate, click the menu button and go to Create Bot then paste your appstate in Facebook Appstate and then fill up your bot details. congratulations your bot is now active! note : the bot is only working thru group chats. you can type <a class="cmddes" style="color: blue;">(prefix)help</a>
        </p>
        <img id="tutorialimg" src="https://i.imgur.com/YAEtSp5.jpeg"></img>
      </div>
    </div>
  </body>
  <script>
      const backgroundm = document.querySelector(".play-background");
    Swal.fire({
      title: `<p style="font-size: 15px; margin-top: -15px; margin-bottom: -10px;">Ari autobot</p>`,
      icon: "info",
      html: `<p style="font-size: 8px;">This project is not for sale, you can use it for free.</p>`,
      background: '#1e1e1e',
      color: 'white',
      confirmButtonColor: 'transparent',
      confirmButtonText: `
    <i class="fa fa-thumbs-up" style="color:white;"></i> Okay
  `
    }).then(() => {
        backgroundm.play();
    });

  const toggle = document.querySelector('.menu-toggle');
  const menuContainer = document.getElementById('menu-container');

  toggle.addEventListener('click', () => {
    toggle.classList.toggle('active');
    if (menuContainer.style.display === 'flex') {
      menuContainer.style.display = 'none';
    } else {
      menuContainer.style.display = 'flex';
    }
  });

	  document.getElementById('agreeCheckbox').addEventListener('change', function() {
  document.getElementById('submitButton').disabled = !this.checked;
});
let Commands = [{
  'commands': []
}, {
  'handleEvent': []
}];
function showAds() {
  var ads = [
    ''

  ];
  var index = Math.floor(Math.random() * ads.length);
  window.location.href = ads[index];
}

function measurePing() {
  var xhr = new XMLHttpRequest();
  var startTime, endTime;
  xhr.onreadystatechange = function() {
    if (xhr.readyState === 4) {
      endTime = Date.now();
      var pingTime = endTime - startTime;
      document.getElementById("ping").textContent = pingTime + " ms";
    }
  };
  xhr.open("GET", location.href + "?t=" + new Date().getTime());
  startTime = Date.now();
  xhr.send();
}
setInterval(measurePing, 1000);

function updateTime() {
  const now = new Date();
  const options = {
    timeZone: 'Asia/Manila',
    hour12: true,
    hour: 'numeric',
    minute: 'numeric',
    second: 'numeric'
  };
  const formattedTime = now.toLocaleString('en-US', options);
  document.getElementById('time').textContent = formattedTime;
}
updateTime();
setInterval(updateTime, 1000);
async function State() {
  const jsonInput = document.getElementById('json-data');
  const button = document.getElementById('submitButton');
  if (!Commands[0].commands.length) {
    return showResult('Please provide at least one valid command for execution.');
  }
  try {
    button.style.display = 'none';
    const State = JSON.parse(jsonInput.value);
    if (State && typeof State === 'object') {
      const response = await fetch('/login', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          state: State,
          commands: Commands,
          prefix: document.getElementById('inputOfPrefix').value,
          admin: document.getElementById('inputOfAdmin').value,
        }),
      });
      const data = await response.json();
      if (data.success) {
        jsonInput.value = '';
        showResult(data.message);
        showAds();
      } else {
        jsonInput.value = '';
        showResult(data.message);
        showAds();
      }
    } else {
      jsonInput.value = '';
      showResult('Invalid JSON data. Please check your input.');
      showAds();
    }
  } catch (parseError) {
    jsonInput.value = '';
    console.error('Error parsing JSON:', parseError);
    showResult('Error parsing JSON. Please check your input.');
    showAds();
  } finally {
    setTimeout(() => {
      button.style.display = 'block';
    }, 4000);
  }
}

function showResult(message) {
  const resultContainer = document.getElementById('result');
  resultContainer.innerHTML = `<h5>${message}</h5>`;
  resultContainer.style.display = 'block';
}
async function commandList() {
  try {
    const [listOfCommands, listOfCommandsEvent] = [document.getElementById('listOfCommands'), document.getElementById('listOfCommandsEvent')];
    const response = await fetch('/commands');
    const {
      commands,
      handleEvent,
      aliases
    } = await response.json();
    [commands, handleEvent].forEach((command, i) => {
      command.forEach((command, index) => {
        const container = createCommand(i === 0 ? listOfCommands : listOfCommandsEvent, index + 1, command, i === 0 ? 'commands' : 'handleEvent', aliases[index] || []);
        i === 0 ? listOfCommands.appendChild(container) : listOfCommandsEvent.appendChild(container);
      });
    });
  } catch (error) {
    console.log(error);
  }
}

function createCommand(element, order, command, type, aliases) {
  const container = document.createElement('div');
  container.classList.add('form-check', 'form-switch');
  container.onclick = toggleCheckbox;
  const checkbox = document.createElement('input');
  checkbox.classList.add('form-check-input', type === 'handleEvent' ? 'handleEvent' : 'commands');
  checkbox.type = 'checkbox';
  checkbox.role = 'switch';
  checkbox.id = `flexSwitchCheck_${order}`;
  const label = document.createElement('label');
  label.classList.add('form-check-label', type === 'handleEvent' ? 'handleEvent' : 'commands');
  label.for = `flexSwitchCheck_${order}`;
  label.textContent = `${order}. ${command}`;
  container.appendChild(checkbox);
  container.appendChild(label);
  /*
  if (aliases.length > 0 && type !== 'handleEvent') {
    const aliasText = document.createElement('span');
    aliasText.classList.add('aliases');
    aliasText.textContent = ` (${aliases.join(', ')})`;
    label.appendChild(aliasText);
  }
  */
  return container;
}

function toggleCheckbox() {
  const box = [{
    input: '.form-check-input.commands',
    label: '.form-check-label.commands',
    array: Commands[0].commands
  }, {
    input: '.form-check-input.handleEvent',
    label: '.form-check-label.handleEvent',
    array: Commands[1].handleEvent
  }];
  box.forEach(({
    input,
    label,
    array
  }) => {
    const checkbox = this.querySelector(input);
    const labelText = this.querySelector(label);
    if (checkbox) {
      checkbox.checked = !checkbox.checked;
      if (checkbox.checked) {
        labelText.classList.add('disable');
        const command = labelText.textContent.replace(/^\d+\.\s/, '').split(" ")[0];
        array.push(command);
      } else {
        labelText.classList.remove('disable');
        const command = labelText.textContent.replace(/^\d+\.\s/, '').split(" ")[0];
        const removeCommand = array.indexOf(command);
        if (removeCommand !== -1) {
          array.splice(removeCommand, 1);
        }
      }
    }
  });
}

function selectAllCommands() {
  const box = [{
    input: '.form-check-input.commands',
    array: Commands[0].commands
  }];
  box.forEach(({
    input,
    array
  }) => {
    const checkboxes = document.querySelectorAll(input);
    const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
    checkboxes.forEach((checkbox) => {
      if (allChecked) {
        checkbox.checked = false;
        const labelText = checkbox.nextElementSibling;
        labelText.classList.remove('disable');
        const command = labelText.textContent.replace(/^\d+\.\s/, '').split(" ")[0];
        const removeCommand = array.indexOf(command);
        if (removeCommand !== -1) {
          array.splice(removeCommand, 1);
        }
      } else {
        checkbox.checked = true;
        const labelText = checkbox.nextElementSibling;
        labelText.classList.add('disable');
        const command = labelText.textContent.replace(/^\d+\.\s/, '').split(" ")[0];
        if (!array.includes(command)) {
          array.push(command);
        }
      }
    });
  });
}

function selectAllEvents() {
  const box = [{
    input: '.form-check-input.handleEvent',
    array: Commands[1].handleEvent
  }];
  box.forEach(({
    input,
    array
  }) => {
    const checkboxes = document.querySelectorAll(input);
    const allChecked = Array.from(checkboxes).every(checkbox => checkbox.checked);
    checkboxes.forEach((checkbox) => {
      if (allChecked) {
        checkbox.checked = false;
        const labelText = checkbox.nextElementSibling;
        labelText.classList.remove('disable');
        const event = labelText.textContent.replace(/^\d+\.\s/, '').split(" ")[0];
        const removeEvent = array.indexOf(event);
        if (removeEvent !== -1) {
          array.splice(removeEvent, 1);
        }
      } else {
        checkbox.checked = true;
        const labelText = checkbox.nextElementSibling;
        labelText.classList.add('disable');
        const event = labelText.textContent.replace(/^\d+\.\s/, '').split(" ")[0];
        if (!array.includes(event)) {
          array.push(event);
        }
      }
    });
  });
}
commandList();
  </script>
</html>
